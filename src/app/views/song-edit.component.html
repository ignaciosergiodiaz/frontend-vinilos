
<section class="song-edit">
  <h1 class="text-center pt-4 mt-5">{{titulo}}</h1>


  <div *ngIf="alertMessage" class="text-center col-lg-12 mt-3">
    <div class="alert alert-info  text-center">
      {{alertMessage}}
    </div>
  </div>

  <form #formSong="ngForm" class="col-lg-6 offset-3 mt-4" (ngSubmit)="onSubmit()">

    <p>
      <label for="">Numero</label>
      <input type="number" #number="ngModel" class="form-control" placeholder="Número de la Canción" name="number" [(ngModel)]="song.number" required />
      <span *ngIf="!number.valid && number.touched">
        El número es obligatorio
      </span>
    </p>

    <p>
      <label for="">Nombre</label>
      <input class="form-control" class="form-control" #name="ngModel" name="name" [(ngModel)]="song.name" placeholder="Nombre de la canción" id="floatingTextarea2" />
      <span *ngIf="!name.valid && name.touched">
        El nombre es obligatorio
      </span>
    </p>

    <p>
      <label for="">Duración</label>
      <input class="form-control" class="form-control" #duration="ngModel" name="duration" [(ngModel)]="song.duration" placeholder="Duración de la canción" id="floatingTextarea2" />
      <span *ngIf="!duration.valid && duration.touched">
        La duración es obligatorio
      </span>
    </p>

    <div class="mb-2 pb-3" *ngIf="is_edit">
      <div class="song_file_for_edit" *ngIf="song.file && song.file != 'null'">
        <audio controls>
          <source src="{{ url + 'get-song-file/' + song.file }}" type="audio/mpeg" />
            El navegador web no soporta la reproducción de audio
        </audio>
      </div>

      <br>
      <label for="" class="mt-3">Sube el fichero de audio</label>
      <input type="file" placeholder="Subir fichero..." (change)="fileChangeEvent($event)" >
    </div>


    <input type="submit" class="btn btn-primary btn-block" [disabled]="!formSong.form.valid"  value="Crear Album">

  </form>

</section>
